{"remainingRequest":"/Users/luan/Documents/dev/nuvem/nimbus/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/preset-env\",{\"shippedProposals\":true,\"modules\":false,\"targets\":{\"browsers\":[\"last 2 versions\"]}}],\"@babel/preset-react\",[\"/Users/luan/Documents/dev/nuvem/nimbus/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"syntax-dynamic-import\",[\"/Users/luan/Documents/dev/nuvem/nimbus/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}]],\"env\":{\"test\":{\"presets\":[[\"@babel/preset-env\",{\"shippedProposals\":true,\"comments\":true,\"targets\":{\"browsers\":[\"last 2 versions\"]}}],\"@babel/preset-react\"],\"plugins\":[\"syntax-dynamic-import\"]}},\"cacheDirectory\":true,\"babelrc\":false}!/Users/luan/Documents/dev/nuvem/nimbus/packages/@nimbus/i18n/lib/i18n.js","dependencies":[{"path":"/Users/luan/Documents/dev/nuvem/nimbus/packages/@nimbus/i18n/lib/i18n.js","mtime":1540246897930},{"path":"/Users/luan/Documents/dev/nuvem/nimbus/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/luan/Documents/dev/nuvem/nimbus/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["'use strict';\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport flatten from 'flat';\nimport compile from 'string-template/compile';\nvar _countProperties = ['count', 'number', 'size', '0', 'length', 'items'];\nvar _languageSet = {};\nvar _defaultLang = 'pt-BR';\nvar _currentLang = 'pt-BR';\n_languageSet[_defaultLang] = new Map();\n\nfunction countProperty(data) {\n  return _countProperties.filter(function (x) {\n    return x in data;\n  })[0];\n}\n\nfunction i18n(key) {\n  for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    data[_key - 1] = arguments[_key];\n  }\n\n  if (key instanceof Array) {\n    key = key[0];\n  }\n\n  if (_typeof(data[0]) == 'object' || data[0] instanceof Array) {\n    data = data[0];\n  }\n\n  var langMap = _currentLang in _languageSet ? _languageSet[_currentLang] : _languageSet[_defaultLang];\n\n  if (langMap.has(key)) {\n    var fn = langMap.get(key);\n\n    if (fn instanceof Array) {\n      var property = countProperty(data);\n      var count = +data[property] || 0;\n      var index = Math.min(count, fn.length - 1) || 0;\n      return fn[index](data);\n    }\n\n    return fn(data);\n  }\n\n  return key;\n}\n\ni18n.reset = function () {\n  var keys = Object.keys(_languageSet);\n  _currentLang = _defaultLang;\n\n  for (var _i = 0; _i < keys.length; _i++) {\n    var key = keys[_i];\n\n    _languageSet[key].clear();\n\n    delete _languageSet[key];\n  }\n};\n\ni18n.lang = function (lang) {\n  _currentLang = lang;\n};\n\ni18n.register = function (lang, keys) {\n  if (lang in _languageSet === false) {\n    _languageSet[lang] = new Map();\n  }\n\n  var langMap = _languageSet[lang];\n  keys = flatten(keys, {\n    safe: true\n  });\n  Object.entries(keys).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    if (value instanceof Array) {\n      var translates = value.map(function (v) {\n        return compile(v, true);\n      });\n      value = translates;\n      langMap.set(key, value);\n      return;\n    }\n\n    langMap.set(key, compile(value, true));\n  });\n};\n\nexport default i18n;",{"version":3,"sources":["/Users/luan/Documents/dev/nuvem/nimbus/packages/@nimbus/i18n/lib/i18n.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","length","err","Array","isArray","_typeof","obj","constructor","prototype","flatten","compile","_countProperties","_languageSet","_defaultLang","_currentLang","Map","countProperty","data","filter","x","i18n","key","_len","arguments","_key","langMap","has","fn","get","property","count","index","Math","min","reset","keys","Object","clear","lang","register","safe","entries","forEach","_ref","_ref2","translates","map","v","set"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport flatten from 'flat';\nimport compile from 'string-template/compile';\nvar _countProperties = ['count', 'number', 'size', '0', 'length', 'items'];\nvar _languageSet = {};\nvar _defaultLang = 'pt-BR';\nvar _currentLang = 'pt-BR';\n_languageSet[_defaultLang] = new Map();\n\nfunction countProperty(data) {\n  return _countProperties.filter(function (x) {\n    return x in data;\n  })[0];\n}\n\nfunction i18n(key) {\n  for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    data[_key - 1] = arguments[_key];\n  }\n\n  if (key instanceof Array) {\n    key = key[0];\n  }\n\n  if (_typeof(data[0]) == 'object' || data[0] instanceof Array) {\n    data = data[0];\n  }\n\n  var langMap = _currentLang in _languageSet ? _languageSet[_currentLang] : _languageSet[_defaultLang];\n\n  if (langMap.has(key)) {\n    var fn = langMap.get(key);\n\n    if (fn instanceof Array) {\n      var property = countProperty(data);\n      var count = +data[property] || 0;\n      var index = Math.min(count, fn.length - 1) || 0;\n      return fn[index](data);\n    }\n\n    return fn(data);\n  }\n\n  return key;\n}\n\ni18n.reset = function () {\n  var keys = Object.keys(_languageSet);\n  _currentLang = _defaultLang;\n\n  for (var _i = 0; _i < keys.length; _i++) {\n    var key = keys[_i];\n\n    _languageSet[key].clear();\n\n    delete _languageSet[key];\n  }\n};\n\ni18n.lang = function (lang) {\n  _currentLang = lang;\n};\n\ni18n.register = function (lang, keys) {\n  if (lang in _languageSet === false) {\n    _languageSet[lang] = new Map();\n  }\n\n  var langMap = _languageSet[lang];\n  keys = flatten(keys, {\n    safe: true\n  });\n  Object.entries(keys).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    if (value instanceof Array) {\n      var translates = value.map(function (v) {\n        return compile(v, true);\n      });\n      value = translates;\n      langMap.set(key, value);\n      return;\n    }\n\n    langMap.set(key, compile(value, true));\n  });\n};\n\nexport default i18n;"]}]}